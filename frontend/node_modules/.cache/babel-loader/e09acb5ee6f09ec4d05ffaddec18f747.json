{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useHistory}from\"react-router-dom\";import React from\"react\";import Button from\"react-bootstrap/Button\";import ServerConnection from\"../../Main Page/Api Connection/serverConnection\";import{jsx as _jsx}from\"react/jsx-runtime\";function ToEndPage(props){var history=useHistory();function handleClick(){return _handleClick.apply(this,arguments);}function _handleClick(){_handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ServerConnection.register(props.username,props.password).then(function(result){return result;});case 2:response=_context.sent;if(!(response===\"User created successfully.\")){_context.next=9;break;}props.setUserCreated();_context.next=7;return ServerConnection.auth(props.username,props.password).then(function(authResponse){return authResponse;});case 7:token=_context.sent;if(token){props.setToken(token);props.setUser(props.username);history.push(\"/registerEnd\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return _handleClick.apply(this,arguments);}return/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",type:\"button\",onClick:handleClick,children:\"Sign Up\"});}export default ToEndPage;","map":{"version":3,"sources":["C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/src/components/Sign Up/register/toRegisterEndPage.js"],"names":["useHistory","React","Button","ServerConnection","ToEndPage","props","history","handleClick","register","username","password","then","result","response","setUserCreated","auth","authResponse","token","setToken","setUser","push"],"mappings":"qXAAA,OAAQA,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iDAA7B,C,2CAGA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACtB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CADsB,QAGPO,CAAAA,WAHO,2IAGtB,4KACyBJ,CAAAA,gBAAgB,CAACK,QAAjB,CAA0BH,KAAK,CAACI,QAAhC,CAA0CJ,KAAK,CAACK,QAAhD,EAA0DC,IAA1D,CAA+D,SAACC,MAAD,QAAWA,CAAAA,MAAX,EAA/D,CADzB,QACQC,QADR,oBAEQA,QAAQ,GAAK,4BAFrB,0BAGQR,KAAK,CAACS,cAAN,GAHR,sBAI0BX,CAAAA,gBAAgB,CAACY,IAAjB,CAAsBV,KAAK,CAACI,QAA5B,CAAsCJ,KAAK,CAACK,QAA5C,EAAsDC,IAAtD,CAA2D,SAACK,YAAD,QAAiBA,CAAAA,YAAjB,EAA3D,CAJ1B,QAIYC,KAJZ,eAKQ,GAAIA,KAAJ,CAAU,CACNZ,KAAK,CAACa,QAAN,CAAeD,KAAf,EACAZ,KAAK,CAACc,OAAN,CAAcd,KAAK,CAACI,QAApB,EACAH,OAAO,CAACc,IAAR,CAAa,cAAb,EACH,CATT,sDAHsB,8CAiBtB,mBACI,KAAC,MAAD,EAAQ,KAAK,KAAb,CAAc,IAAI,CAAC,IAAnB,CAAwB,IAAI,CAAC,QAA7B,CAAsC,OAAO,CAAEb,WAA/C,qBADJ,CAKH,CAED,cAAeH,CAAAA,SAAf","sourcesContent":["import {useHistory} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ServerConnection from \"../../Main Page/Api Connection/serverConnection\";\r\n\r\n\r\nfunction ToEndPage(props) {\r\n    const history = useHistory();\r\n\r\n    async function handleClick() {\r\n        let response = await ServerConnection.register(props.username, props.password).then((result) =>result);\r\n        if (response === \"User created successfully.\") {\r\n            props.setUserCreated();\r\n            let token = await ServerConnection.auth(props.username, props.password).then((authResponse) =>authResponse);\r\n            if (token){\r\n                props.setToken(token);\r\n                props.setUser(props.username)\r\n                history.push(\"/registerEnd\")\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Button block size=\"lg\" type=\"button\" onClick={handleClick}>\r\n            Sign Up\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default ToEndPage;"]},"metadata":{},"sourceType":"module"}