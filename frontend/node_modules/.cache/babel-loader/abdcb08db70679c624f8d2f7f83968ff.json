{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from\"react\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import\"./login.css\";import ServerConnection from\"../../Main Page/Api Connection/serverConnection\";import ToEndPage from'./redirectToEndPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:'',password:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.validateForm=_this.validateForm.bind(_assertThisInitialized(_this));_this.setUsername=_this.setUsername.bind(_assertThisInitialized(_this));_this.setPassword=_this.setPassword.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();}},{key:\"setUsername\",value:function setUsername(newUsername){this.setState({username:newUsername});}},{key:\"setPassword\",value:function setPassword(newPassword){this.setState({password:newPassword});}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ServerConnection.auth(this.state.username,this.state.password).then(function(authResponse){return authResponse;});case 2:token=_context.sent;if(token){this.props.setToken(token);this.props.setUser(this.state.username);alert(\"logged in\");}case 4:case\"end\":return _context.stop();}}},_callee,this);}));function login(){return _login.apply(this,arguments);}return login;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{autoFocus:true,type:\"text\",value:this.username,onChange:function onChange(e){return _this2.setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:this.password,onChange:function onChange(e){return _this2.setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(ToEndPage,{setToken:this.props.setToken,username:this.state.username,password:this.state.password,setUser:this.props.setUser})]})});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/src/components/Sign Up/login/login.js"],"names":["React","useState","Form","Button","ServerConnection","ToEndPage","Login","props","state","username","password","handleSubmit","bind","validateForm","setUsername","setPassword","login","length","event","preventDefault","newUsername","setState","newPassword","auth","then","authResponse","token","setToken","setUser","alert","e","target","value","Component"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./login.css\";\r\nimport ServerConnection from \"../../Main Page/Api Connection/serverConnection\";\r\nimport ToEndPage from './redirectToEndPage';\r\n\r\n\r\nclass Login extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {username: '',\r\n        password: ''}\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n        this.setUsername = this.setUsername.bind(this);\r\n        this.setPassword = this.setPassword.bind(this);\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n\r\n     validateForm() {\r\n        return this.state.username.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    setUsername(newUsername) {\r\n        this.setState({username: newUsername})\r\n    }\r\n\r\n    setPassword(newPassword) {\r\n        this.setState({password: newPassword})\r\n    }\r\n\r\n    async login() {\r\n        let token = await ServerConnection.auth(this.state.username, this.state.password).then((authResponse) => authResponse);\r\n        if (token) {\r\n            this.props.setToken(token);\r\n            this.props.setUser(this.state.username)\r\n            alert(\"logged in\")\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"Login\">\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group size=\"lg\" controlId=\"email\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control\r\n                            autoFocus\r\n                            type=\"text\"\r\n                            value={this.username}\r\n                            onChange={(e) => this.setUsername(e.target.value)}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group size=\"lg\" controlId=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control\r\n                            type=\"password\"\r\n                            value={this.password}\r\n                            onChange={(e) => this.setPassword(e.target.value)}\r\n                        />\r\n                    </Form.Group>\r\n                    <ToEndPage setToken={this.props.setToken} username={this.state.username} password={this.state.password} setUser={this.props.setUser}/>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}