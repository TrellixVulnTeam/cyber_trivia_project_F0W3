{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\coolermaster\\\\PycharmProjects\\\\Updated_trivia_project\\\\frontend\\\\src\\\\components\\\\Do Quiz\\\\toStatsUpdatedEndpoint.js\",\n    _s = $RefreshSig$();\n\nimport ServerConnection from \"../Main Page/Api Connection/serverConnection\";\nimport { useHistory } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ToStatsUpdatedEndPage(props) {\n  _s();\n\n  const history = useHistory();\n\n  function getScore() {\n    let trueAnswers = [];\n    props.userAnswers.map(answer => answer === true ? trueAnswers.push(answer) : null);\n    return Math.floor(trueAnswers.length * 100 / props.questionList.length);\n  }\n\n  async function handleClick() {\n    const percentage = getScore();\n    const response = await ServerConnection.updatePercentage(props.quiz, percentage, props.user).then(response => response);\n\n    if (response === \"Stats updated.\") {\n      history.push(\"/statsUpdated\");\n    } else {\n      alert(\"Error!\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    block: true,\n    size: \"lg\",\n    type: \"button\",\n    onClick: handleClick,\n    children: \"Submit Quiz\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ToStatsUpdatedEndPage, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = ToStatsUpdatedEndPage;\nexport default ToStatsUpdatedEndPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToStatsUpdatedEndPage\");","map":{"version":3,"sources":["C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/src/components/Do Quiz/toStatsUpdatedEndpoint.js"],"names":["ServerConnection","useHistory","Button","React","ToStatsUpdatedEndPage","props","history","getScore","trueAnswers","userAnswers","map","answer","push","Math","floor","length","questionList","handleClick","percentage","response","updatePercentage","quiz","user","then","alert"],"mappings":";;;AAAA,OAAOA,gBAAP,MAA6B,8CAA7B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;AAAA;;AAClC,QAAMC,OAAO,GAAGL,UAAU,EAA1B;;AAEA,WAASM,QAAT,GAAoB;AAChB,QAAIC,WAAW,GAAG,EAAlB;AACAH,IAAAA,KAAK,CAACI,WAAN,CAAkBC,GAAlB,CAAsBC,MAAM,IAAKA,MAAM,KAAK,IAAX,GAAkBH,WAAW,CAACI,IAAZ,CAAiBD,MAAjB,CAAlB,GAA4C,IAA7E;AACA,WAAOE,IAAI,CAACC,KAAL,CAAWN,WAAW,CAACO,MAAZ,GAAqB,GAArB,GAA2BV,KAAK,CAACW,YAAN,CAAmBD,MAAzD,CAAP;AACH;;AAGD,iBAAeE,WAAf,GAA6B;AACzB,UAAMC,UAAU,GAAGX,QAAQ,EAA3B;AACA,UAAMY,QAAQ,GAAI,MAAMnB,gBAAgB,CAACoB,gBAAjB,CAAkCf,KAAK,CAACgB,IAAxC,EAA8CH,UAA9C,EAA0Db,KAAK,CAACiB,IAAhE,EAAsEC,IAAtE,CAA2EJ,QAAQ,IAAIA,QAAvF,CAAxB;;AACA,QAAIA,QAAQ,KAAK,gBAAjB,EAAmC;AAC/Bb,MAAAA,OAAO,CAACM,IAAR,CAAa,eAAb;AACH,KAFD,MAEO;AACHY,MAAAA,KAAK,CAAE,QAAF,CAAL;AACH;AAGA;;AAIL,sBACI,QAAC,MAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,IAAI,EAAC,IAAnB;AAAwB,IAAA,IAAI,EAAC,QAA7B;AAAsC,IAAA,OAAO,EAAEP,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GA7BQb,qB;UACWH,U;;;KADXG,qB;AA+BT,eAAeA,qBAAf","sourcesContent":["import ServerConnection from \"../Main Page/Api Connection/serverConnection\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport React from \"react\";\r\n\r\nfunction ToStatsUpdatedEndPage(props) {\r\n    const history = useHistory();\r\n\r\n    function getScore() {\r\n        let trueAnswers = []\r\n        props.userAnswers.map(answer => (answer === true ? trueAnswers.push(answer): null))\r\n        return Math.floor(trueAnswers.length * 100 / props.questionList.length);\r\n    }\r\n\r\n\r\n    async function handleClick() {\r\n        const percentage = getScore();\r\n        const response =  await ServerConnection.updatePercentage(props.quiz, percentage, props.user).then(response => response)\r\n        if (response === \"Stats updated.\") {\r\n            history.push(\"/statsUpdated\")\r\n        } else {\r\n            alert (\"Error!\")\r\n        }\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n    return (\r\n        <Button block size=\"lg\" type=\"button\" onClick={handleClick}>\r\n            Submit Quiz\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default ToStatsUpdatedEndPage;"]},"metadata":{},"sourceType":"module"}