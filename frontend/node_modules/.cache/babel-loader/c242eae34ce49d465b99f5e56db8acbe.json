{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\coolermaster\\\\PycharmProjects\\\\Updated_trivia_project\\\\frontend\\\\src\\\\components\\\\Do Quiz\\\\DoQuiz.js\";\nimport React from 'react';\nimport ServerConnection from \"../Main Page/Api Connection/serverConnection\";\nimport DoQuestion from \"./DoQuestion\";\nimport Button from \"react-bootstrap/Button\";\nimport HomeButton from \"../Sign Up/returnToHomePage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DoQuiz extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      questionList: [],\n      userAnswers: []\n    };\n    this.getQuiz = this.getQuiz.bind(this);\n    this.getScore = this.getScore.bind(this);\n  }\n\n  componentDidMount() {\n    this.getQuiz().then(json => this.setState({\n      questionList: json[0]\n    }));\n  }\n\n  async getQuiz() {\n    return await ServerConnection.getQuiz(this.props.quiz, this.props.jwtToken).then(response => response);\n  }\n\n  addAnswer(answer) {\n    this.userAnswers.push(answer);\n  }\n\n  showResult() {\n    return this.userAnswers.length < this.questionList.length;\n  }\n\n  getScore() {\n    return this.userAnswers * 100 / this.questionList.length;\n  }\n\n  async updatePercentage() {\n    const percentage = this.getScore();\n    return await ServerConnection.updatePercentage(this.props.quiz, percentage, this.props.user);\n  }\n\n  setQuestionList() {\n    this.setState();\n  }\n\n  render() {\n    if (this.state.questionList.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading Quiz ... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this);\n    } else {\n      const questionsList = this.state.questionList.map(([key, value]) => /*#__PURE__*/_jsxDEV(DoQuestion, {\n        question: value\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 81\n      }, this));\n      let quizShow;\n\n      if (this.showResult()) {\n        quizShow = questionsList[this.state.userAnswers.length];\n      } else {\n        quizShow = /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-section\",\n          children: [\"You scored \", this.getScore(), \" out of 100! submitButton = \", /*#__PURE__*/_jsxDEV(Button, {\n            block: true,\n            size: \"lg\",\n            type: \"submit\",\n            onClick: this.updatePercentage.bind(this),\n            children: \"Submit Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 40\n          }, this), /*#__PURE__*/_jsxDEV(HomeButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz\",\n        children: quizShow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n}\n\nexport default DoQuiz;","map":{"version":3,"sources":["C:/Users/coolermaster/PycharmProjects/Updated_trivia_project/frontend/src/components/Do Quiz/DoQuiz.js"],"names":["React","ServerConnection","DoQuestion","Button","HomeButton","DoQuiz","Component","constructor","props","state","questionList","userAnswers","getQuiz","bind","getScore","componentDidMount","then","json","setState","quiz","jwtToken","response","addAnswer","answer","push","showResult","length","updatePercentage","percentage","user","setQuestionList","render","questionsList","map","key","value","quizShow"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ServerConnection from \"../Main Page/Api Connection/serverConnection\";\r\nimport DoQuestion from \"./DoQuestion\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport HomeButton from \"../Sign Up/returnToHomePage\";\r\n\r\nclass DoQuiz extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            questionList: [],\r\n            userAnswers: []\r\n        }\r\n        this.getQuiz = this.getQuiz.bind(this);\r\n        this.getScore = this.getScore.bind(this);\r\n\r\n\r\n    }\r\n\r\n     componentDidMount() {\r\n        this.getQuiz().then(json => this.setState({questionList: json[0]}))\r\n    }\r\n\r\n\r\n    async getQuiz() {\r\n        return await ServerConnection.getQuiz(this.props.quiz, this.props.jwtToken).then(response => response);\r\n    }\r\n\r\n    addAnswer(answer) {\r\n        this.userAnswers.push(answer);\r\n    }\r\n\r\n    showResult() {\r\n        return this.userAnswers.length < this.questionList.length;\r\n    }\r\n\r\n    getScore() {\r\n        return this.userAnswers * 100 / this.questionList.length;\r\n    }\r\n\r\n    async updatePercentage() {\r\n        const percentage = this.getScore();\r\n        return await ServerConnection.updatePercentage(this.props.quiz, percentage, this.props.user)\r\n    }\r\n\r\n    setQuestionList() {\r\n        this.setState()\r\n    }\r\n\r\n    render() {\r\n        if (this.state.questionList.length === 0) {\r\n            return (\r\n                <span>Loading Quiz ... </span>\r\n            )\r\n        } else {\r\n            const questionsList = this.state.questionList.map(([key, value]) => <DoQuestion question={value} key={key}/>)\r\n            let quizShow;\r\n            if (this.showResult()) {\r\n                quizShow = questionsList[this.state.userAnswers.length]\r\n            } else {\r\n                quizShow = (\r\n                    <div className=\"score-section\">\r\n                        You scored {this.getScore()} out of 100!\r\n                        submitButton = <Button block size=\"lg\" type=\"submit\"\r\n                                               onClick={this.updatePercentage.bind(this)}>Submit Quiz</Button>\r\n                        <HomeButton/>\r\n                    </div>\r\n                )\r\n            }\r\n            return (<div className=\"quiz\">\r\n                    {quizShow}\r\n                </div>\r\n\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default DoQuiz;"]},"metadata":{},"sourceType":"module"}